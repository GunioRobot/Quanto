<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>andym's Projects -> Quanto!</title>
  <link rel="stylesheet" type="text/css" href="styles.css" />
</head>

<body>

<div id="header">
  <h1>Quanto!</h1>
</div>

<div id="main">
  <h2>contact</h2>
<p><a href="mailto:andy.mcfarland@gmail.com">mail andym</a><p>

<h2>Quanto!</h2>

<p>A project to profile your queries as they hit a mysql server.</p>

<p>The <a href="http://forge.mysql.com/wiki/MySQL_Proxy">mysql-proxy</a> "sits between your client and MySQL server(s) and can monitor, analyze or transform their communication".</p>

<p>For this project we added a "fingerprint" comment to the start of each query as it was generated in our application. The application is then configured to point at a mysql-proxy rather then the mysql-server. The proxy is running the quanto-collector.lua script. Using the fingerprint as a key, Quanto stores aggregate query statistics, such as timing information, call counts, rows returned, etc. The fingerprint also stores information describing the line and module that generated the query.</p>

<p>You can use the mysql client to access the proxy directly and view the statistics with the "show stats" command, and zero them again with the "clear stats" command.</p>

<p>The project also has some CGI written in perl and using a tiny amount of JQuery to retrieve the stats and display the results nicely.</p>

<p>This gives you feedback about the performance of your application while it's running. You can spot problems like slow queries (timed in milliseconds), queries that return too many rows, or queries running more often than you expect. Even without performance problems, you can see where you should concentrate your efforts if you want to speed things up.</p>

<p>Download the project from github <a href="http://github.com/andym/Quanto/tree/master">here</a>.</p>

<h2>Screenshots</h2>

<p>Here's <a href="quanto_shot1.png">one</a>. Here's <a href="quanto_shot2.png">another showing an "expanded" query.</a></p>

<p>Or you can take a look at some <a href="sample_output/index.html">sample output</a> yourself</p>

<h2>Presentation</h2>

<p>Here's <a href="BCS_presentation-20090610/index.html">the slides</a> for a
presentation <a href="http://bobtfish.livejournal.com/">t0m</a> 
(<a href="mailto:bobtfish@bobtfish.net">mail</a>) did on Quanto,
or they're available <a href="http://github.com/bobtfish/Presentation-Quanto-PerlLuaJQuery_MySQLStats/tree/master">in source form</a>.
</p>

<h2>License</h2>
<p>All this stuff is licensed under the same terms as perl.</p>

</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-9184678-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>
</html>
